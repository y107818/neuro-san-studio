# Copyright Â© 2025 Cognizant Technology Solutions Corp, www.cognizant.com.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# END COPYRIGHT
{
    "llm_config": {
        "model_name": "bedrock-us-claude-sonnet-4",
    },

    # Optional metadata describing this agent network
    "metadata": {
        "description": "Agentic RAG assistant that intelligently retrieves and integrates content from websites, document-based knowledge, and Slack channels to answer user queries through modular tool orchestration.",
        "tags": ["rag", "slack", "tool"],
        "sample_queries": [
            "What is the evaluation criteria in the RFP?",
            "Search for recent information about AI developments and check our team's Slack discussion",
            "Find details from the project documents and related web sources",
        ]
    },

    "tools": [
        # This first agent definition is regarded as the "Front Man", which
        # does all the talking to the outside world/client.
        #
        # Some disqualifications from being a front man:
        #   1) Cannot use a CodedTool "class" definition
        #   2) Cannot use a Tool "toolbox" definition
        #
        # Besides the first agent being the front man, these tool definitions
        # do not have to be in any particular order. How they are linked and
        # call each other is defined within their own specs.
        # This could be a graph, potentially even with cycles.
        {
            "name": "Agentic_RAG_Assistant",

            # Note that there are no parameters defined for this guy's "function" key.
            # This is the primary way to identify this tool as a front-man,
            # distinguishing it from the rest of the tools.

            "function": {
                "description": "Answer caller's query with answers from tools.",
            },

            "instructions": """Use your tool to respond to the inquiry.""",
            "tools": ["website_search", "rag_retriever", "slack_tool"]
        },
        # LangChain search tool using Bing; no need to define "function" since "args_schema" is pre-defined.
        {
            "name": "website_search",
            "toolbox": "ddgs_search"
            "args": {
                "num_results": 3
            }
        },
        # RAG tool that loads data from a PDF URL into an in-memory vectorstore and answers queries.
        {
            "name": "rag_retriever",
            "function": {
                "description": "Retrieve information from the given rfp documents",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "query": {
                            "type": "string",
                            "description": "Query for retrieval"
                        }
                    },
                    "required": ["query"]
                }
            },
            "class": "rag.Rag"
        },
        # Retrieves messages from a specified Slack channel.
        {
            "name": "slack_tool",
            "function": {
                "description": "Retrieve messages from the given slack channel",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "channel_name": {
                            "type": "string",
                            "description": "slack channel to get messages from"
                        }
                    },
                    "required": ["channel_name"]
                }
            },
            "class": "slack.Slack"
        },
    ]
}
